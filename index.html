<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>LogIn Firebase</title>
    <link href="https://fonts.googleapis.com/css?family=Gaegu" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">

</head>
<body>
    <section class="loggedin">
        <h1>Your Profile</h1>
        <input type="text" id="name" placeholder="name">
        <input type="text" id="instagram" placeholder="@username">
        <button id="editar">Editar</button>
    </section>
    <section class="loggedout">
        <h1>LogIn</h1>
        <button id="google" class="button google">LogIn Github</button>
        <hr>
        <div>
            <input type="text" id="number" placeholder="number">        
            <button class="number" id="numberButton">LogIn Number</button>
            <p id="recaptcha-container"></p>
                       
        </div> 
        
    </section>
</body>



<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyDKffDj1yNE5ZMGeESjosOFfnc47qGFl6I",
    authDomain: "fir-firebase-b64eb.firebaseapp.com",
    databaseURL: "https://fir-firebase-b64eb.firebaseio.com",
    projectId: "fir-firebase-b64eb",
    storageBucket: "fir-firebase-b64eb.appspot.com",
    messagingSenderId: "856341620154"
  };
  firebase.initializeApp(config);
</script>
<script >
    // var google = document.getElementById('google')
    // var provider = new firebase.auth.GoogleAuthProvider();
    // google.addEventListener('click', function(){
    //     firebase.auth().signInWithPopup(provider)
    //         .then(function(result) {
    //             console.log(result.user)
    //         })
    // })
    
    
    var numberButton = document.getElementById('numberButton')
    
    

    numberButton.addEventListener('click', function(){
        var number = document.getElementById('number').value
        console.log(number)
        window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');
        var appVerifier = window.recaptchaVerifier;
        
        
        firebase.auth().signInWithPhoneNumber(number, appVerifier)
            .then(function (confirmationResult) {                
            console.log(confirmationResult)
            
            //confirm(code)

            }).catch(function (error) {
            // Error; SMS not sent
            console.log(error)
            // ...
            });

    })

    function confirm(code){
        
        
    }
    

</script>
</html>